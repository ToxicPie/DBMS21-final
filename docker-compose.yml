version: '3'

services:
    frontend:
        build:
            context: .
            dockerfile: frontend/Dockerfile
        volumes:
            - ./frontend:/home/dbfinal/workdir/frontend:ro
            - ./database:/home/dbfinal/workdir/database
        ports:
            - '8000'
    backend:
        build:
            context: .
            dockerfile: backend/Dockerfile
        volumes:
            - ./backend:/home/dbfinal/workdir/backend:ro
            - ./database:/home/dbfinal/workdir/database
        ports:
            - '8000'
    nginx:
        image: nginx:stable
        volumes:
            - ./nginx.conf:/etc/nginx/nginx.conf:ro
            - ./nginx-logs:/etc/nginx/logs
        ports:
            - '80:80'
        expose:
            - '80'
